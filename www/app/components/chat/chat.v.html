<ion-view view-title="Pearl" 
  ng-controller="ChatController as chatCtrl"
  ng-init="chatCtrl.sendClientContext();">
  <ion-content class="chat-history">

    <ion-refresher pulling-text="Pull to refresh" 
      on-refresh="chatCtrl.doRefresh();">
    </ion-refresher>

    <prl-chat-scroll 
      val="chatCtrl.chatMessages" 
      class="chat-bubble-wrapper" 
      ng-repeat="chatMessage in chatCtrl.chatMessages track by $index">

      <!-- TODO: This should not be hardcoded in the future. -->
      <div class="chat-bubble" 
        ng-class="{'chat-bubble-left': chatMessage.speaker !== 'client'}">
        {{chatMessage.message}}
      </div>
    </prl-chat-scroll>

    <div id="spacer"></div>

  </ion-content>

  <prl-chat-input-space>
    <div class="input-bubble"
    ng-click="chatCtrl.enterClientInput($index)" 
    ng-repeat="inputOption in chatCtrl.inputOptions track by $index">
      {{inputOption.inputMessage}}
    </div>
  </prl-chat-input-space>

<!--   <ion-footer-bar>
    <div class="item-input-inset pl-full-width">
      <label class="item-input-wrapper ">
        <input type="text" ng-model="chatCtrl.message" placeholder="Message">
      </label>

      <button ng-click="chatCtrl.sendInformation()" class="button button-small button-positive">
        <i class="icon ion-paper-airplane"></i>
      </button>
    </div>
  </ion-footer-bar> -->
</ion-view>
